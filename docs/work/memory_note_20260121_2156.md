# Memory Note - 2026-01-21 21:56

## Context
Standard workflow per CLAUDE.md. ExCSS CSS parser library with Unity/mighty-ui integration via `make sync`.

## Last 3 Tasks Completed

### 1. Added `Length.Unit.Fr` for CSS Grid fraction unit
Added complete support for CSS Grid `fr` unit: enum value, parsing in `GetUnit()`, string mapping in `UnitNames.Fr`, and unit tests. All 1629 tests pass.
**Commit:** `e7a4ea7`

### 2. Added grid-column/grid-row shorthand properties
Created `GridColumnProperty`, `GridRowProperty`, `GridLineExpander` for shorthand expansion (e.g., `grid-column: 1 / 3` â†’ `grid-column-start: 1; grid-column-end: 3`). Registered in PropertyFactory and ShorthandRegistry.
**Commits:** `d115593`, `fc68a67`, `a5a6a50`

### 3. Added `Fr` to mighty-ui FFI
Updated `RelativeUnit` enum, `ComputedRelative.Resolve()`, `ToString()`, and `LengthConverter` in FloatConverter.cs to expose `fr` unit to Unity side. Also created Makefile with `sync` target for build+deploy workflow.
**Files:** `ComputedRelative.cs`, `FloatConverter.cs`, `Makefile`

## Next 3 Tasks Planned

### 1. Debug Mighty Acid Test layout collapse
Dashboard is horizontally collapsed to thin strip. ExCSS parsing confirmed working (`260px 1fr` parses correctly with inline comments). Issue is in mighty-ui: check Unity console for `[GridTemplateConverter]` and `[PropertyApplicator]` debug logs. If no logs appear, problem is in StyleResolver not passing values.
**Source:** mighty-ui PropertyApplicator.cs:728-738, GridTemplateConverter.cs

### 2. Verify align-items: stretch on root
Previous session fixed default `align-items: stretch`. Confirm this applies to Acid Test root element. If root has `FlexStart` instead of `Stretch`, dashboard will collapse horizontally.
**Source:** TaffyStyle default values, PropertyApplicator align-items handling

### 3. Test CSS comment stripping (fallback)
If above diagnostics fail, try removing inline comments from `mighty_acid_1.css` as a "dirty test". Comments like `/* Sidebar fixed */` after values might cause issues downstream even though ExCSS parses them correctly.
**Source:** mighty_acid_1.css.txt in mighty-ui test assets
